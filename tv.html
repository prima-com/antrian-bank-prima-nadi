<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Display Antrian Bank Prima Nadi</title>

<style>
body{
margin:0;
font-family:Arial;
background:#0b2d57;
color:white;
}

/* HEADER */
.header{
height:70px;
background:#1d4c84;
display:flex;
align-items:center;
justify-content:space-between;
padding:0 30px;
}

.led{
font-size:16px;
font-weight:bold;
letter-spacing:2px;
color:#FFD700;
}

/* MAIN */
.container{
display:flex;
height:62vh;
padding:15px;
gap:15px;
}

.left{
width:28%;
display:flex;
flex-direction:column;
gap:12px;
}

.box{
background:#2a638a;
border-radius:15px;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
}

.small{height:12%;}
.big{height:38%;}

.title{
font-size:22px;
font-weight:bold;
}

.nomor{
font-size:80px;
font-weight:bold;
color:gold;
text-shadow:0 0 10px #FFD700,0 0 20px rgba(255,215,0,0.7);
}

/* TV WRAPPER */
.tv-wrapper{
width:45%;
display:flex;
flex-direction:column;
gap:10px;
}

/* TV */
.tv{
height:85%;
border-radius:15px;
overflow:hidden;
}

.tv iframe{
width:100%;
height:100%;
border:none;
}

/* FRAME PENJAMINAN */
.penjaminan{
height:15%;
background:#1d4c84;
border-radius:15px;
display:flex;
align-items:center;
justify-content:center;
font-size:16px;
font-weight:bold;
letter-spacing:2px;
color:#FFD700;
box-shadow:0 0 10px rgba(255,215,0,0.4);
}

/* PROMO */
.promo{
width:27%;
background:#163d6b;
border-radius:15px;
padding:15px;
}

/* TABEL DEPOSITO */
.promo h2{
text-align:center;
color:#FFD700;
letter-spacing:1px;
margin-bottom:15px;
}

.promo table{
width:100%;
border-collapse:collapse;
font-size:16px;
}

.promo th{
background:#1d4c84;
color:#FFD700;
padding:10px;
border:1px solid #ffffff33;
}

.promo td{
padding:10px;
border:1px solid #ffffff22;
text-align:center;
}

.promo tr:nth-child(even){background:#1b4475;}
.promo tr:nth-child(odd){background:#163d6b;}

.highlight-rate{
color:#FFD700;
font-weight:bold;
text-shadow:
0 0 5px #FFD700,
0 0 10px #FFD700,
0 0 20px rgba(255,215,0,0.8);
animation:goldPulse 2s infinite;
}

@keyframes goldPulse{
0%{transform:scale(1);}
50%{transform:scale(1.08);}
100%{transform:scale(1);}
}

/* MINI LOKET */
.mini{
display:flex;
gap:12px;
padding:6px 20px;
height:60px;
align-items:center;
background:#0e2f5a;
box-shadow:0 -3px 10px rgba(0,0,0,0.4);
}

.loket{
flex:1;
background:linear-gradient(145deg,#163d6b,#0f2f55);
border-radius:25px;
padding:5px 10px;
text-align:center;
display:flex;
flex-direction:column;
justify-content:center;
box-shadow:inset 0 2px 4px rgba(255,255,255,0.1),
0 3px 8px rgba(0,0,0,0.5);
}

.loket h3{
margin:0;
font-size:14px;
font-weight:600;
letter-spacing:1px;
color:#cfd8ff;
}

.loket span{
font-size:24px;
color:#FFD700;
font-weight:bold;
text-shadow:0 0 5px #FFD700,0 0 10px #FFD700;
}

.active-loket{
animation:pulse 1.2s ease-in-out 3;
border:2px solid #FFD700;
box-shadow:0 0 10px #FFD700,0 0 20px rgba(255,215,0,0.8);
}

@keyframes pulse{
0%{transform:scale(1);}
50%{transform:scale(1.05);}
100%{transform:scale(1);}
}

.blink{
animation:blinkAnim 0.6s ease-in-out 3;
}

@keyframes blinkAnim{
0%{opacity:1;}
50%{opacity:0.3;}
100%{opacity:1;}
}

/* RUNNING TEXT */
.running{
background:#0a2445;
color:yellow;
font-size:16px;
padding:10px;
white-space:nowrap;
overflow:hidden;
}

.running div{
display:inline-block;
padding-left:100%;
animation:jalan 20s linear infinite;
}

@keyframes jalan{
0%{transform:translateX(0);}
100%{transform:translateX(-100%);}
}

/* AUDIO UNLOCK */
#unlock{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:#000c;
display:flex;
align-items:center;
justify-content:center;
z-index:9999;
}
</style>
</head>

<body>

<div id="unlock">
<button onclick="aktifkanSuara()" style="
font-size:30px;
padding:20px 40px;
background:gold;
border:none;
border-radius:15px;
cursor:pointer;">
ðŸ”Š AKTIFKAN SUARA
</button>
</div>

<div class="header">
<img src="logo_pn.png" height="100%">
<div id="jam" class="led"></div>
</div>

<div class="container">

<div class="left">
<div class="box small"><div class="title">LOKET A</div></div>
<div class="box big"><div class="title">NOMOR ANTRIAN</div><div class="nomor" id="displayA">-</div></div>
<div class="box small"><div class="title">LOKET B</div></div>
<div class="box big"><div class="title">NOMOR ANTRIAN</div><div class="nomor" id="displayB">-</div></div>
</div>

<div class="tv-wrapper">
<div class="tv">
<iframe src="https://www.youtube.com/embed/uB-cnjYFTBA?autoplay=1&mute=1"></iframe>
</div>
<div class="penjaminan">
<center>Simpanan Nasabah dijamin oleh LPS sesuai ketentuan</center>
</div>
</div>

<div class="promo">
<table>
<tr>
<th>NOMINAL DEPOSITO</th>
<th>RATE</th>
</tr>
<tr>
<td>1 jt - â‰¤ 100 jt </td>
<td>5,00 %</td>
</tr>
<tr>
<td>100 jt keatas - < 500 jt</td>
<td>5,25 %</td>
</tr>
<tr>
<td> 500 jt keatas</td>
<td class="highlight-rate">5,50 %</td>
</tr>
</table>
</div>

</div>

<div class="mini">
<div class="loket"><h3>LOKET 1</h3><span id="loket1">-</span></div>
<div class="loket"><h3>LOKET 2</h3><span id="loket2">-</span></div>
<div class="loket"><h3>LOKET 3</h3><span id="loket3">-</span></div>
<div class="loket"><h3>LOKET 4</h3><span id="loket4">-</span></div>
</div>

<div class="running">
<div>Selamat datang di Bank Prima Nadi KPO Cakranegara â€¢ Mohon menunggu nomor antrian Anda dipanggil. Terima kasih</div>
</div>

<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>

<script>
const firebaseConfig = {
apiKey:"AIzaSyB7f2r5KbTkk-14bc5cXNHEVlV5J1WfMf8",
authDomain:"antrian-bank-prima-nadi.firebaseapp.com",
databaseURL:"https://antrian-bank-prima-nadi-default-rtdb.asia-southeast1.firebasedatabase.app",
projectId:"antrian-bank-prima-nadi"
};

firebase.initializeApp(firebaseConfig);
const db=firebase.database();

let audioAktif=false;
let lastCalled={};

function aktifkanSuara(){
audioAktif=true;
speechSynthesis.speak(new SpeechSynthesisUtterance("Sistem suara aktif"));
document.getElementById("unlock").style.display="none";
}

function speak(text){
if(!audioAktif) return;
speechSynthesis.cancel();
setTimeout(()=>{
const msg=new SpeechSynthesisUtterance(text);
msg.lang="id-ID";
speechSynthesis.speak(msg);
},100);
}

function formatBaca(nomor,loket){
return "Nomor antrian "+nomor+" silakan menuju "+loket.replace("loket","loket ");
}

function listenLoket(id){
db.ref("loket/"+id).on("value",(snap)=>{
const data=snap.val();
if(!data) return;

const nomor=data.nomor;
const loketBox=document.getElementById(id).parentElement;

document.getElementById(id).innerText=nomor;

if(nomor.startsWith("A")){
document.getElementById("displayA").innerText = nomor;
}
if(nomor.startsWith("B")){
document.getElementById("displayB").innerText = nomor;
}

if(lastCalled[id]!==data.waktu){

loketBox.classList.add("active-loket");
document.getElementById(id).classList.add("blink");

setTimeout(()=>{
loketBox.classList.remove("active-loket");
document.getElementById(id).classList.remove("blink");
},2500);

speak(formatBaca(nomor,id));
lastCalled[id]=data.waktu;
}
});
}

listenLoket("loket1");
listenLoket("loket2");
listenLoket("loket3");
listenLoket("loket4");

function updateJam(){
const now=new Date();
document.getElementById("jam").innerHTML=
now.toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"})+
"<br>Pukul "+now.toLocaleTimeString("id-ID");
}
setInterval(updateJam,1000);
updateJam();
</script>

</body>
</html>






































































