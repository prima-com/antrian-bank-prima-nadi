<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Display Antrian Bank</title>

<style>
body{
  margin:0;
  font-family:Arial, Helvetica, sans-serif;
  background:#0b2d57;
  color:white;
}
.header{
  height:70px;
  background:#1d4c84;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 30px;
}
#jam{
  font-family:'Courier New', monospace;
  text-align:right;
}
.led{
  font-size:22px;
  font-weight:bold;
  letter-spacing:2px;
  color:#FFD700;
  text-shadow:0 0 5px #FFD700,0 0 10px #FFD700,0 0 20px rgba(255,215,0,0.8);
}
.container{
  display:flex;
  height:62vh;
  padding:15px;
  gap:15px;
  box-sizing:border-box;
}
.left{
  width:32%;
  display:flex;
  flex-direction:column;
  gap:12px;
}
.box{
  background:#2a638a;
  border-radius:15px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
}
.small{height:10%;}
.big{height:40%;}
.title{font-size:2.2vh;font-weight:bold;}
.nomor{font-size:9vh;font-weight:bold;color:gold;}
.tv{flex:1;border-radius:15px;overflow:hidden;background:black;}
.tv iframe{width:100%;height:100%;border:none;}
.mini{
  display:flex;
  gap:12px;
  padding:20px 15px 10px 15px;
}
.loket{
  flex:1;
  background:#163d6b;
  border-radius:12px;
  padding:10px;
  text-align:center;
}
.loket span{font-size:3vh;color:gold;font-weight:bold;}
.running{
  background:#0a2445;
  color:yellow;
  font-size:2.5vh;
  padding:10px;
  font-weight:bold;
  white-space:nowrap;
  overflow:hidden;
}
.running div{
  display:inline-block;
  padding-left:100%;
  animation:jalan 20s linear infinite;
}
@keyframes jalan{
  0%{transform:translateX(0);}
  100%{transform:translateX(-100%);}
}
</style>
</head>

<body>

<div class="header">
  <img src="logo_pn.png" height="55">
  <div id="jam"></div>
</div>

<div class="container">

  <div class="left">

    <div class="box small"><div class="title">LOKET A</div></div>

    <div class="box big">
      <div class="title">NOMOR ANTRIAN</div>
      <div class="nomor" id="displayA">A 000</div>
    </div>

    <div class="box small"><div class="title">LOKET B</div></div>

    <div class="box big">
      <div class="title">NOMOR ANTRIAN</div>
      <div class="nomor" id="displayB">B 000</div>
    </div>

  </div>

  <div class="tv">
    <iframe src="https://www.youtube.com/embed/yNKvkPJl-tg?autoplay=1&mute=1"></iframe>
  </div>

</div>

<div class="mini">
  <div class="loket"><h3>LOKET 1</h3><span id="loket1">-</span></div>
  <div class="loket"><h3>LOKET 2</h3><span id="loket2">-</span></div>
  <div class="loket"><h3>LOKET 3</h3><span id="loket3">-</span></div>
  <div class="loket"><h3>LOKET 4</h3><span id="loket4">-</span></div>
</div>

<div class="running">
  <div>Selamat datang di Bank Prima Nadi • Mohon menunggu nomor antrian Anda dipanggil • Terima kasih</div>
</div>

<script type="module">

import { db } from "./firebase-config.js";
import { ref, onValue } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

const callRef = ref(db,"currentCall");

onValue(callRef,(snap)=>{
  const data = snap.val();
  if(!data) return;

  document.getElementById("loket1").innerText = data.loket1 || "-";
  document.getElementById("loket2").innerText = data.loket2 || "-";
  document.getElementById("loket3").innerText = data.loket3 || "-";
  document.getElementById("loket4").innerText = data.loket4 || "-";

  // otomatis tampil A dan B besar
  if(data.loket1?.startsWith("A"))
     document.getElementById("displayA").innerText = data.loket1;

  if(data.loket2?.startsWith("B"))
     document.getElementById("displayB").innerText = data.loket2;
});

</script>

<script>
function updateJam(){
  const hariNama=["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"];
  const bulanNama=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"];
  let now=new Date();
  let hari=hariNama[now.getDay()];
  let tanggal=String(now.getDate()).padStart(2,'0');
  let bulan=bulanNama[now.getMonth()];
  let tahun=now.getFullYear();
  let jam=String(now.getHours()).padStart(2,'0');
  let menit=String(now.getMinutes()).padStart(2,'0');
  let detik=String(now.getSeconds()).padStart(2,'0');

  document.getElementById("jam").innerHTML =
  `<div class="led">${hari}, ${tanggal} ${bulan} ${tahun} • pukul ${jam}:${menit}:${detik}</div>`;
}
setInterval(updateJam,1000);
updateJam();
</script>

</body>
</html>



































