<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Display Antrian Bank</title>

<style>
body{margin:0;font-family:Arial;background:#0b2d57;color:white;}
.header{height:70px;background:#1d4c84;display:flex;align-items:center;justify-content:space-between;padding:0 30px;}
.led{font-size:16px;font-weight:bold;color:#FFD700;}
.container{display:flex;height:62vh;padding:15px;gap:15px;}
.left{width:28%;display:flex;flex-direction:column;gap:12px;}
.box{background:#2a638a;border-radius:15px;display:flex;flex-direction:column;justify-content:center;align-items:center;}
.small{height:12%;}
.big{height:38%;}
.nomor{font-size:8vh;font-weight:bold;color:gold;}
.tv{width:45%;border-radius:15px;overflow:hidden;}
.tv iframe{width:100%;height:100%;border:none;}
.mini{display:flex;gap:12px;padding:20px 15px;}
.loket{flex:1;background:#163d6b;border-radius:12px;padding:10px;text-align:center;}
.loket span{font-size:3vh;color:gold;}
#unlock{position:fixed;width:100%;height:100%;background:#000c;display:flex;align-items:center;justify-content:center;}
</style>
</head>

<body>

<div id="unlock">
<button onclick="aktifkan()" style="font-size:30px;padding:20px 40px;background:gold;border:none;border-radius:15px;">
ðŸ”Š AKTIFKAN SUARA
</button>
</div>

<div class="header">
<img src="logo_pn.png" height="100%">
<div id="jam" class="led"></div>
</div>

<div class="container">

<div class="left">
<div class="box small">LOKET A</div>
<div class="box big"><div id="displayA" class="nomor">A000</div></div>
<div class="box small">LOKET B</div>
<div class="box big"><div id="displayB" class="nomor">B000</div></div>
</div>

<div class="tv">
<iframe src="https://www.youtube.com/embed/yNKvkPJl-tg?autoplay=1&mute=1"></iframe>
</div>

</div>

<div class="mini">
<div class="loket">LOKET 1<br><span id="loket1">-</span></div>
<div class="loket">LOKET 2<br><span id="loket2">-</span></div>
<div class="loket">LOKET 3<br><span id="loket3">-</span></div>
<div class="loket">LOKET 4<br><span id="loket4">-</span></div>
</div>

<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>

<script>
const firebaseConfig={
apiKey:"AIzaSyB7f2r5KbTkk-14bc5cXNHEVlV5J1WfMf8",
databaseURL:"https://antrian-bank-prima-nadi-default-rtdb.asia-southeast1.firebasedatabase.app"
};

firebase.initializeApp(firebaseConfig);
const db=firebase.database();

let aktif=false;
let last={};

function aktifkan(){
aktif=true;
speechSynthesis.speak(new SpeechSynthesisUtterance("Suara aktif"));
document.getElementById("unlock").style.display="none";
}

function speak(txt){
if(!aktif) return;
speechSynthesis.cancel();
speechSynthesis.speak(new SpeechSynthesisUtterance(txt));
}

["loket1","loket2","loket3","loket4"].forEach(id=>{
db.ref("loket/"+id).on("value",snap=>{
let val=snap.val()||"-";
document.getElementById(id).innerText=val;

if(val.startsWith("A")) displayA.innerText=val;
if(val.startsWith("B")) displayB.innerText=val;

if(val!=="-" && last[id]!==val){
speak("Nomor "+val+" silakan menuju "+id.replace("loket","loket "));
last[id]=val;
}
});
});

setInterval(()=>{
let now=new Date();
jam.innerHTML=now.toLocaleString("id-ID");
},1000);
</script>

</body>
</html>









































