<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Display Antrian Bank Prima Nadi</title>

<style>
body{
margin:0;
font-family:Arial;
background:#0b2d57;
color:white;
}

/* HEADER */
.header{
height:70px;
background:#1d4c84;
display:flex;
align-items:center;
justify-content:space-between;
padding:0 30px;
}

.led{
font-size:16px;
font-weight:bold;
letter-spacing:2px;
color:#FFD700;
}

/* MAIN */
.container{
display:flex;
height:62vh;
padding:15px;
gap:15px;
}

.left{
width:28%;
display:flex;
flex-direction:column;
gap:12px;
}

.box{
background:#2a638a;
border-radius:15px;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
}

.small{height:12%;}
.big{height:38%;}

.title{
font-size:22px;
font-weight:bold;
}

.nomor{
font-size:80px;
font-weight:bold;
color:gold;
text-shadow:
0 0 10px #FFD700,
0 0 20px rgba(255,215,0,0.7);
}

/* TV */
.tv{
width:45%;
border-radius:15px;
overflow:hidden;
}

.tv iframe{
width:100%;
height:90%;
border:none;
}

/* PROMO */
.promo{
width:27%;
background:#163d6b;
border-radius:15px;
padding:15px;
}

/* MINI LOKET PREMIUM */
.mini{
display:flex;
gap:12px;
padding:6px 20px;
height:60px;
align-items:center;
background:#0e2f5a;
box-shadow:0 -3px 10px rgba(0,0,0,0.4);
}

.loket{
flex:1;
background:linear-gradient(145deg,#163d6b,#0f2f55);
border-radius:25px;
padding:5px 10px;
text-align:center;
display:flex;
flex-direction:column;
justify-content:center;
box-shadow:
inset 0 2px 4px rgba(255,255,255,0.1),
0 3px 8px rgba(0,0,0,0.5);
}

.loket h3{
margin:0;
font-size:14px;
font-weight:600;
letter-spacing:1px;
color:#cfd8ff;
}

.loket span{
font-size:24px;
color:#FFD700;
font-weight:bold;
text-shadow:
0 0 5px #FFD700,
0 0 10px #FFD700,
0 0 20px rgba(255,215,0,0.7);
}

/* LOKET AKTIF */
.active-loket{
animation:pulse 1.2s ease-in-out 3;
border:2px solid #FFD700;
box-shadow:
0 0 10px #FFD700,
0 0 20px rgba(255,215,0,0.8);
}

@keyframes pulse{
0%{transform:scale(1);}
50%{transform:scale(1.05);}
100%{transform:scale(1);}
}

.blink{
animation:blinkAnim 0.6s ease-in-out 3;
}

@keyframes blinkAnim{
0%{opacity:1;}
50%{opacity:0.3;}
100%{opacity:1;}
}

/* RUNNING TEXT */
.running{
background:#0a2445;
color:yellow;
font-size:16px;
padding:10px;
white-space:nowrap;
overflow:hidden;
}

.running div{
display:inline-block;
padding-left:100%;
animation:jalan 20s linear infinite;
}

@keyframes jalan{
0%{transform:translateX(0);}
100%{transform:translateX(-100%);}
}

/* AUDIO UNLOCK */
#unlock{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:#000c;
display:flex;
align-items:center;
justify-content:center;
z-index:9999;
}
</style>
</head>

<body>

<div id="unlock">
<button onclick="aktifkanSuara()" style="
font-size:30px;
padding:20px 40px;
background:gold;
border:none;
border-radius:15px;
cursor:pointer;
">
ðŸ”Š AKTIFKAN SUARA
</button>
</div>

<div class="header">
<img src="logo_pn.png" height="100%">
<div id="jam" class="led"></div>
</div>

<div class="container">

<div class="left">
<div class="box small"><div class="title">LOKET A</div></div>
<div class="box big"><div class="title">NOMOR ANTRIAN</div><div class="nomor" id="displayA">-</div></div>
<div class="box small"><div class="title">LOKET B</div></div>
<div class="box big"><div class="title">NOMOR ANTRIAN</div><div class="nomor" id="displayB">-</div></div>
</div>

<div class="tv">
<iframe src="https://www.youtube.com/embed/yNKvkPJl-tg?autoplay=1&mute=1"></iframe>
</div>

<div class="promo">
<h2 style="text-align:center;">PROMO DEPOSITO</h2>

<table style="
width:100%;
border-collapse:collapse;
margin-top:15px;
font-size:18px;
">

<tr style="background:#1d4c84;color:#FFD700;font-weight:bold;">
<td style="padding:10px;border:1px solid #ffffff55;">
NOMINAL DEPOSITO
</td>
<td style="padding:10px;border:1px solid #ffffff55;text-align:center;">
RATE
</td>
</tr>

<tr>
<td style="padding:10px;border:1px solid #ffffff33;">
10.000.000 - 100.000.000,-
</td>
<td style="padding:10px;border:1px solid #ffffff33;text-align:center;">
5,00 %
</td>
</tr>

<tr>
<td style="padding:10px;border:1px solid #ffffff33;">
100.000.001 - 200.000.000,-
</td>
<td style="padding:10px;border:1px solid #ffffff33;text-align:center;">
5,25 %
</td>
</tr>

<tr>
<td style="padding:10px;border:1px solid #ffffff33;">
200.000.001 - 500.000.000,-
</td>
<td style="padding:10px;border:1px solid #ffffff33;text-align:center;">
5,50 %
</td>
</tr>

</table>
</div>

</div>

<div class="mini">
<div class="loket"><h3>LOKET 1</h3><span id="loket1">-</span></div>
<div class="loket"><h3>LOKET 2</h3><span id="loket2">-</span></div>
<div class="loket"><h3>LOKET 3</h3><span id="loket3">-</span></div>
<div class="loket"><h3>LOKET 4</h3><span id="loket4">-</span></div>
</div>

<div class="running">
<div>Selamat datang di Bank Prima Nadi â€¢ Mohon menunggu nomor antrian Anda dipanggil</div>
</div>

<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>

<script>
const firebaseConfig = {
apiKey:"AIzaSyB7f2r5KbTkk-14bc5cXNHEVlV5J1WfMf8",
authDomain:"antrian-bank-prima-nadi.firebaseapp.com",
databaseURL:"https://antrian-bank-prima-nadi-default-rtdb.asia-southeast1.firebasedatabase.app",
projectId:"antrian-bank-prima-nadi",
storageBucket:"antrian-bank-prima-nadi.firebasestorage.app",
messagingSenderId:"807742809953",
appId:"1:807742809953:web:afeb350b36f4731d36c720"
};

firebase.initializeApp(firebaseConfig);
const db=firebase.database();

let audioAktif=false;
let lastCalled={};

function aktifkanSuara(){
audioAktif=true;
speechSynthesis.speak(new SpeechSynthesisUtterance("Sistem suara aktif"));
document.getElementById("unlock").style.display="none";
}

function speak(text){
if(!audioAktif) return;
speechSynthesis.cancel();
setTimeout(()=>{
const msg=new SpeechSynthesisUtterance(text);
msg.lang="id-ID";
speechSynthesis.speak(msg);
},100);
}

function formatBaca(nomor,loket){
const noBaca=nomor.replace(/^([A-Z])0+/,"$1 ");
return "Nomor antrian "+noBaca.split("").join(" ")+" silakan menuju "+loket.replace("loket","loket ");
}

function listenLoket(id){
db.ref("loket/"+id).on("value",(snap)=>{
const data=snap.val();
if(!data) return;

const nomor=data.nomor;
const loketBox=document.getElementById(id).parentElement;

document.getElementById(id).innerText=nomor;

if(nomor.startsWith("A")) displayA.innerText=nomor;
if(nomor.startsWith("B")) displayB.innerText=nomor;

if(lastCalled[id]!==data.waktu){

loketBox.classList.add("active-loket");
document.getElementById(id).classList.add("blink");

setTimeout(()=>{
loketBox.classList.remove("active-loket");
document.getElementById(id).classList.remove("blink");
},2500);

speak(formatBaca(nomor,id));
lastCalled[id]=data.waktu;
}
});
}

listenLoket("loket1");
listenLoket("loket2");
listenLoket("loket3");
listenLoket("loket4");

function updateJam(){
const now=new Date();
const hari=now.toLocaleDateString("id-ID",{weekday:"long"});
const tanggal=now.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"});
const jam=now.toLocaleTimeString("id-ID");
document.getElementById("jam").innerHTML=hari+", "+tanggal+"<br>Pukul "+jam;
}

setInterval(updateJam,1000);
updateJam();
</script>

</body>
</html>























































