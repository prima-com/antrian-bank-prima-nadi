<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mesin Antrian Bank</title>

<style>
body{
    font-family: Arial, sans-serif;
    background:#0b3d91;
    color:white;
    text-align:center;
    margin:0;
}

.container{
    margin-top:80px;
}

h1{
    font-size:42px;
    margin-bottom:10px;
}

.subtitle{
    font-size:20px;
    margin-bottom:60px;
}

.btn{
    display:block;
    width:320px;
    margin:25px auto;
    padding:25px;
    font-size:28px;
    border:none;
    border-radius:15px;
    cursor:pointer;
    font-weight:bold;
    transition:.3s;
}

.btn-teller{
    background:#28a745;
    color:white;
}

.btn-cs{
    background:#ffc107;
    color:black;
}

.btn:hover{
    transform:scale(1.05);
}

.footer{
    position:fixed;
    bottom:20px;
    width:100%;
    font-size:14px;
    opacity:.7;
}
</style>
</head>

<body>

<div class="container">
    <h1>MESIN ANTRIAN</h1>
    <div class="subtitle">Silakan Pilih Layanan</div>

    <button class="btn btn-teller" onclick="ambilTeller()">
        AMBIL NOMOR TELLER
    </button>

    <button class="btn btn-cs" onclick="ambilCS()">
        AMBIL NOMOR CUSTOMER SERVICE
    </button>
</div>

<div class="footer">
    PT. BPR Prima Nadi
</div>


<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyB7f2r5KbTkk-14bc5cXNHEVlV5J1WfMf8",
  authDomain: "antrian-bank-prima-nadi.firebaseapp.com",
  databaseURL: "https://antrian-bank-prima-nadi-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "antrian-bank-prima-nadi",
  storageBucket: "antrian-bank-prima-nadi.firebasestorage.app",
  messagingSenderId: "807742809953",
  appId: "1:807742809953:web:afeb350b36f4731d36c720"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();


function ambilTeller() {
  let ref = db.ref("antrian/teller/last");

  ref.transaction((current) => {
    return (current || 0) + 1;
  });

  alert("Nomor Teller berhasil diambil");
}


function ambilCS() {
  let ref = db.ref("antrian/cs/last");

  ref.transaction((current) => {
    return (current || 0) + 1;
  });

  alert("Nomor Customer Service berhasil diambil");
}
</script>

</body>
</html>
